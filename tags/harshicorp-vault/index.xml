<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Harshicorp Vault on Jamie&#39;s Blog</title>
    <link>http://akjamie.github.io/tags/harshicorp-vault/</link>
    <description>Recent content in Harshicorp Vault on Jamie&#39;s Blog</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 14 Jul 2019 12:10:27 +0000</lastBuildDate>
    <atom:link href="http://akjamie.github.io/tags/harshicorp-vault/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Harshicorp Vault Setup Config and integration with spring boot</title>
      <link>http://akjamie.github.io/2019/07/14/harshicorp-vault-setup-config/</link>
      <pubDate>Sun, 14 Jul 2019 12:10:27 +0000</pubDate>
      <guid>http://akjamie.github.io/2019/07/14/harshicorp-vault-setup-config/</guid>
      <description>&lt;h1 id=&#34;install-vault&#34;&gt;Install vault&lt;/h1&gt;&#xA;&lt;p&gt;Prepare &lt;em&gt;docker-compose.yml&lt;/em&gt;, content as below (just a sample here, please don&amp;rsquo;t use it for production, there are more aspects should be considered)&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;version: &amp;#39;3&amp;#39;&#xA;services:&#xA;  consul:&#xA;    container_name: consul.server&#xA;    command: agent -server -bind 0.0.0.0 -client 0.0.0.0 -bootstrap-expect=1&#xA;    image: consul:latest&#xA;    restart: always&#xA;    volumes:&#xA;      - ./consul.server/config:/consul/config&#xA;      - ./consul.server/data:/consul/data&#xA;    ports:&#xA;      - &amp;#34;9300:9300&amp;#34;&#xA;      - &amp;#34;9500:9500&amp;#34;&#xA;      - &amp;#34;9600:9600/udp&amp;#34;&#xA;  vault:&#xA;    container_name: vault.server&#xA;    image: vault&#xA;    ports:&#xA;    - &amp;#34;8200:8200&amp;#34;&#xA;    restart: always&#xA;    links:&#xA;        - consul:consul.server&#xA;    volumes:&#xA;    - ./vault.server/config:/mnt/vault/config&#xA;    - ./vault.server/data:/mnt/vault/data&#xA;    - ./vault.server/logs:/mnt/vault/logs&#xA;    - ./vault.server/config:/vault/config&#xA;    - /etc/letsencrypt:/etc/letsencrypt&#xA;    cap_add:&#xA;    - IPC_LOCK&#xA;    command: server&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;consul-config---configjson&#34;&gt;consul config - config.json&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;   {&#xA;     &amp;#34;datacenter&amp;#34;: &amp;#34;data-center-1&amp;#34;,&#xA;     &amp;#34;node_name&amp;#34;: &amp;#34;master-node&amp;#34;,&#xA;     &amp;#34;log_level&amp;#34;: &amp;#34;INFO&amp;#34;,&#xA;     &amp;#34;server&amp;#34;: true,&#xA;     &amp;#34;data_dir&amp;#34;: &amp;#34;/consul/data&amp;#34;,&#xA;     &amp;#34;ui&amp;#34; : true,&#xA;     &amp;#34;ports&amp;#34;: {&#xA;       &amp;#34;http&amp;#34;: 8500,&#xA;       &amp;#34;server&amp;#34;: 8300&#xA;     }&#xA;   } &#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;vault-config---vaulthcl&#34;&gt;vault config - vault.hcl&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ui = true&#xA;backend &amp;#34;consul&amp;#34; {&#xA;  address = &amp;#34;consul:8500&amp;#34;&#xA;  advertise_addr = &amp;#34;http://consul:8300&amp;#34;&#xA;  scheme = &amp;#34;http&amp;#34;&#xA;}&#xA;listener &amp;#34;tcp&amp;#34; {&#xA;  address = &amp;#34;0.0.0.0:8200&#xA;  tls_disable = 1&#xA;}&#xA;disable_mlock = true&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;use-docker-compose-up--d-to-run-these-services-and-check-its-status&#34;&gt;Use docker-compose up -d to run these services, and check its status&lt;/h2&gt;&#xA;&lt;p&gt;&#xD;&#xA;  &lt;img src=&#34;http://akjamie.github.io/img/2019-07-14-harshicorp-vault-setup-config/15532408-351f3fa54f1ebc1a.png&#34; alt=&#34;&#34;&gt;&#xD;&#xA;&#xD;&#xA;&#xA;&#xD;&#xA;  &lt;img src=&#34;http://akjamie.github.io/img/2019-07-14-harshicorp-vault-setup-config/15532408-698c9ee3afd1d4f9.png&#34; alt=&#34;&#34;&gt;&#xD;&#xA;&#xD;&#xA;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
